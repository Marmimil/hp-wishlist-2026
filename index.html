<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>2026 Slytherin WishList</title>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@500&family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
  <style>
    *{margin:0;padding:0;box-sizing:border-box;}
    body{font-family:'Noto Sans JP',sans-serif;background:linear-gradient(135deg,#2a4a3a 0%,#3d5a4a 50%,#2f4f3f 100%);min-height:100vh;padding:15px;color:#e8e8e8;transition:all 0.5s;}
    body.lumos{background:linear-gradient(135deg,#5a7a6a 0%,#7a9a8a 50%,#6a8a7a 100%)!important;}
    body.incendio::before{content:'';position:fixed;top:0;left:0;right:0;bottom:0;background:radial-gradient(circle,rgba(255,100,0,0.3) 0%,transparent 70%);animation:fire 0.5s;pointer-events:none;z-index:999;}
    @keyframes fire{0%{opacity:0;}50%{opacity:1;}100%{opacity:0;}}
    .container{max-width:650px;margin:0 auto;}
    .header{text-align:center;margin-bottom:12px;}
    .header h1{font-family:'Cinzel',serif;font-size:1.4rem;color:#c0c0c0;text-shadow:0 0 10px rgba(192,192,192,0.3);}
    .header .subtitle{font-size:0.7rem;color:#7fb97f;margin-top:2px;}
    .hourglasses{display:flex;justify-content:center;gap:10px;margin-bottom:15px;}
    .hg-wrap{display:flex;flex-direction:column;align-items:center;}
    .hg{width:28px;height:70px;border:2px solid rgba(255,255,255,0.15);border-radius:14px;background:rgba(0,0,0,0.2);overflow:hidden;display:flex;flex-direction:column;justify-content:flex-end;}
    .hg.active{border-color:#50c878;box-shadow:0 0 8px rgba(80,200,120,0.4);}
    .hg-fill{width:100%;transition:height 0.8s ease;border-radius:0 0 12px 12px;}
    .hg-fill.g{background:linear-gradient(180deg,#ffd700,#ae0001);}.hg-fill.s{background:linear-gradient(180deg,#7fff7f,#1a472a);}.hg-fill.r{background:linear-gradient(180deg,#87ceeb,#0e1a40);}.hg-fill.h{background:linear-gradient(180deg,#ffeb3b,#8b6914);}
    .hg-label{font-size:0.55rem;margin-top:3px;color:#888;}.hg-label.active{color:#7fff7f;}
    .hg-pts{font-size:0.6rem;color:#666;}.hg-pts.active{color:#7fff7f;}
    .points-display{text-align:center;margin-bottom:12px;}
    .points-big{font-family:'Cinzel',serif;font-size:2.2rem;color:#7fff7f;text-shadow:0 0 15px rgba(127,255,127,0.4);}
    .next-ms{font-size:0.8rem;color:#ccc;margin-top:5px;padding:6px 12px;background:rgba(0,0,0,0.2);border-radius:15px;display:inline-block;}
    .badge-row{display:flex;justify-content:center;flex-wrap:wrap;gap:4px;margin-bottom:12px;padding:8px;background:rgba(0,0,0,0.15);border-radius:8px;}
    .badge{width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:10px;}
    .badge.locked{background:rgba(50,50,50,0.3);filter:grayscale(1);opacity:0.2;}
    .badge.unlocked{background:linear-gradient(135deg,#2d5a3d,#3d7a4d);box-shadow:0 0 6px rgba(80,200,120,0.5);}
    .current-event{text-align:center;font-size:1rem;margin-bottom:12px;padding:8px;background:rgba(80,200,120,0.1);border-radius:8px;border-left:3px solid #50c878;}
    .input-section{display:flex;gap:6px;margin-bottom:12px;}
    .input-section input{flex:1;padding:8px 10px;border:2px solid rgba(80,200,120,0.3);border-radius:6px;background:rgba(0,0,0,0.2);color:#e8e8e8;font-size:0.85rem;}
    .input-section input:focus{outline:none;border-color:#50c878;}
    .pts-input{width:55px;text-align:center;}
    .input-section button{padding:8px 14px;background:linear-gradient(135deg,#2d5a3d,#3d7a4d);border:none;border-radius:6px;color:#e8e8e8;font-weight:bold;cursor:pointer;}
    .input-section button:hover{box-shadow:0 0 10px rgba(80,200,120,0.5);}
    .wish-list{list-style:none;max-height:180px;overflow-y:auto;transition:transform 0.5s;}
    .wish-list.float{transform:translateY(-10px);}
    .wish-item{display:flex;align-items:center;gap:8px;padding:8px;background:rgba(255,255,255,0.03);border:1px solid rgba(80,200,120,0.1);border-radius:6px;margin-bottom:4px;}
    .wish-item:hover{background:rgba(80,200,120,0.08);}
    .wish-item.completed{opacity:0.4;}
    .wish-item.completed .wish-text{text-decoration:line-through;}
    .checkbox{width:18px;height:18px;border:2px solid #50c878;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;flex-shrink:0;}
    .checkbox:hover{background:rgba(80,200,120,0.2);}
    .checkbox.checked{background:#50c878;}
    .checkbox.checked::after{content:'âœ“';font-size:9px;color:#1a2a1a;}
    .wish-text{flex:1;font-size:0.8rem;}
    .wish-pts{font-size:0.65rem;padding:2px 6px;border-radius:8px;background:rgba(80,200,120,0.15);color:#7fff7f;}
    .del-btn{background:none;border:none;color:#555;cursor:pointer;font-size:0.9rem;}
    .del-btn:hover{color:#c0392b;}
    .empty{text-align:center;padding:15px;color:#777;font-size:0.8rem;}
    
    .spells-section{margin-top:15px;padding:12px;background:rgba(0,0,0,0.2);border-radius:10px;}
    .spells-title{font-size:0.75rem;color:#888;margin-bottom:8px;text-align:center;}
    .spells{display:flex;justify-content:center;flex-wrap:wrap;gap:8px;}
    .spell{padding:6px 12px;border-radius:20px;font-size:0.7rem;cursor:pointer;transition:all 0.3s;border:1px solid transparent;}
    .spell.locked{background:rgba(50,50,50,0.3);color:#555;cursor:not-allowed;}
    .spell.unlocked{background:linear-gradient(135deg,#2d5a3d,#3d7a4d);color:#e8e8e8;border-color:rgba(80,200,120,0.3);}
    .spell.unlocked:hover{transform:scale(1.1);box-shadow:0 0 15px rgba(80,200,120,0.5);}
    .spell.unlocked:active{transform:scale(0.95);}
    
    .sparkle{position:fixed;pointer-events:none;z-index:1000;font-size:20px;animation:sparkle 1s forwards;}
    @keyframes sparkle{0%{opacity:1;transform:scale(0) rotate(0deg);}50%{opacity:1;transform:scale(1.5) rotate(180deg);}100%{opacity:0;transform:scale(0) rotate(360deg);}}
    .freeze{animation:freeze 0.5s;}
    @keyframes freeze{0%,100%{filter:none;}50%{filter:brightness(1.5) saturate(0);}}
    .quote{text-align:center;font-style:italic;color:#5a8a5a;margin-top:12px;padding-top:10px;border-top:1px solid rgba(80,200,120,0.15);font-size:0.7rem;}
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>ğŸ 2026 Slytherin WishList</h1>
      <p class="subtitle">é‡å¿ƒã‚’æŒã£ã¦ã€ç›®æ¨™ã‚’é”æˆã›ã‚ˆ</p>
    </div>
    <div class="hourglasses">
      <div class="hg-wrap"><div class="hg"><div class="hg-fill g" style="height:35%"></div></div><p class="hg-label">ğŸ¦</p><p class="hg-pts">70</p></div>
      <div class="hg-wrap"><div class="hg active"><div class="hg-fill s" id="sFill" style="height:0%"></div></div><p class="hg-label active">ğŸ</p><p class="hg-pts active" id="sPts">0</p></div>
      <div class="hg-wrap"><div class="hg"><div class="hg-fill r" style="height:45%"></div></div><p class="hg-label">ğŸ¦…</p><p class="hg-pts">90</p></div>
      <div class="hg-wrap"><div class="hg"><div class="hg-fill h" style="height:25%"></div></div><p class="hg-label">ğŸ¦¡</p><p class="hg-pts">50</p></div>
    </div>
    <div class="points-display">
      <div class="points-big"><span id="pts">0</span><span style="font-size:0.9rem;color:#888"> / 200</span></div>
      <span class="next-ms" id="nextMs">æ¬¡: ğŸ çµ„ã¿åˆ†ã‘ ã¾ã§ã‚ã¨10ç‚¹</span>
    </div>
    <div class="badge-row" id="badges"></div>
    <div class="current-event" id="curEvent">ğŸ° ãƒ›ã‚°ãƒ¯ãƒ¼ãƒ„å…¥å­¦</div>
    <div class="input-section">
      <input type="text" id="wishIn" placeholder="æ–°ã—ã„Wishã‚’å…¥åŠ›...">
      <input type="number" class="pts-input" id="ptsIn" value="4" min="1" max="20">
      <button onclick="addWish()">è¿½åŠ </button>
    </div>
    <ul class="wish-list" id="wishList"><li class="empty">ğŸ Wishã‚’è¿½åŠ ã—ã¦å†’é™ºã‚’å§‹ã‚ã‚ˆã†</li></ul>
    
    <div class="spells-section">
      <div class="spells-title">ğŸ“œ ç¿’å¾—æ¸ˆã¿é­”æ³•ï¼ˆã‚¯ãƒªãƒƒã‚¯ã§ç™ºå‹•ï¼ï¼‰</div>
      <div class="spells" id="spells"></div>
    </div>
    
    <div class="quote">"Those cunning folk use any means to achieve their ends."</div>
  </div>

  <script>
    const MS=[{p:0,i:'ğŸ°',n:'ãƒ›ã‚°ãƒ¯ãƒ¼ãƒ„å…¥å­¦'},{p:10,i:'ğŸ',n:'çµ„ã¿åˆ†ã‘ï¼šã‚¹ãƒªã‚¶ãƒªãƒ³ï¼'},{p:25,i:'ğŸ”“',n:'Alohomoraç¿’å¾—',spell:'Alohomora'},{p:40,i:'ğŸª¶',n:'Wingardium Leviosaç¿’å¾—',spell:'Leviosa'},{p:55,i:'ğŸ—¿',n:'Petrificus Totalusç¿’å¾—',spell:'Petrificus'},{p:70,i:'ğŸ”¦',n:'Lumosç¿’å¾—',spell:'Lumos'},{p:85,i:'ğŸ”¥',n:'Incendioç¿’å¾—',spell:'Incendio'},{p:100,i:'ğŸ•',n:'ãƒ•ãƒ©ãƒƒãƒ•ã‚£ãƒ¼çªç ´'},{p:115,i:'ğŸŒ¿',n:'æ‚ªé­”ã®ç½ çªç ´'},{p:130,i:'ğŸ”‘',n:'ç©ºé£›ã¶éµã‚²ãƒƒãƒˆï¼'},{p:145,i:'â™Ÿï¸',n:'ãƒã‚§ã‚¹ã®è©¦ç·´çªç ´'},{p:160,i:'ğŸ‘¹',n:'ãƒˆãƒ­ãƒ¼ãƒ«ã‚’å€’ã—ãŸï¼'},{p:175,i:'ğŸ§ª',n:'è«–ç†ãƒ‘ã‚ºãƒ«ã‚’è§£ã„ãŸï¼'},{p:190,i:'ğŸ˜ˆ',n:'ã‚¯ã‚£ãƒ¬ãƒ«ã‚’å€’ã—ãŸï¼'},{p:200,i:'ğŸ’',n:'è³¢è€…ã®çŸ³ã‚’å®ˆã£ãŸï¼'}];
    const SPELLS=[{name:'Alohomora',icon:'ğŸ”“',req:25,desc:'éµã‚’é–‹ã‘ã‚‹'},{name:'Leviosa',icon:'ğŸª¶',req:40,desc:'æµ®éŠè¡“'},{name:'Petrificus',icon:'ğŸ—¿',req:55,desc:'çŸ³åŒ–è¡“'},{name:'Lumos',icon:'ğŸ”¦',req:70,desc:'å…‰ã‚’ç¯ã™'},{name:'Incendio',icon:'ğŸ”¥',req:85,desc:'ç‚ã‚’æ“ã‚‹'}];
    let W=JSON.parse(localStorage.getItem('slytherin-wishes-2026')||'[]');
    
    document.addEventListener('DOMContentLoaded',()=>{render();document.getElementById('wishIn').addEventListener('keypress',e=>{if(e.key==='Enter')addWish();});});
    
    function pts(){return W.filter(w=>w.c).reduce((s,w)=>s+(w.p||0),0);}
    function idx(p){for(let i=MS.length-1;i>=0;i--)if(p>=MS[i].p)return i;return 0;}
    
    function render(){
      const p=pts(),i=idx(p),cur=MS[i],nxt=MS[i+1];
      document.getElementById('pts').textContent=p;
      document.getElementById('sPts').textContent=p;
      document.getElementById('sFill').style.height=Math.min(p/200*100,100)+'%';
      document.getElementById('curEvent').textContent=cur.i+' '+cur.n;
      document.getElementById('nextMs').textContent=nxt?`æ¬¡: ${nxt.i} ${nxt.n} ã¾ã§ã‚ã¨${nxt.p-p}ç‚¹`:'ğŸ‰ å…¨ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³é”æˆï¼';
      document.getElementById('badges').innerHTML=MS.map((m,j)=>`<div class="badge ${p>=m.p?'unlocked':'locked'}" title="${m.n}">${m.i}</div>`).join('');
      renderSpells(p);
      renderList();
    }
    
    function renderSpells(p){
      document.getElementById('spells').innerHTML=SPELLS.map(s=>`<div class="spell ${p>=s.req?'unlocked':'locked'}" onclick="${p>=s.req?`cast('${s.name}')`:''}"><span>${s.icon}</span> ${s.name}</div>`).join('');
    }
    
    function cast(name){
      if(name==='Alohomora'){for(let i=0;i<8;i++)setTimeout(()=>sparkle(),i*100);}
      if(name==='Leviosa'){document.querySelector('.wish-list').classList.add('float');setTimeout(()=>document.querySelector('.wish-list').classList.remove('float'),1000);}
      if(name==='Petrificus'){document.body.classList.add('freeze');setTimeout(()=>document.body.classList.remove('freeze'),500);}
      if(name==='Lumos'){document.body.classList.add('lumos');setTimeout(()=>document.body.classList.remove('lumos'),2000);}
      if(name==='Incendio'){document.body.classList.add('incendio');setTimeout(()=>document.body.classList.remove('incendio'),600);}
    }
    
    function sparkle(){
      const s=document.createElement('div');s.className='sparkle';s.textContent='âœ¨';
      s.style.left=Math.random()*window.innerWidth+'px';s.style.top=Math.random()*window.innerHeight+'px';
      document.body.appendChild(s);setTimeout(()=>s.remove(),1000);
    }
    
    function renderList(){
      const l=document.getElementById('wishList');
      if(!W.length){l.innerHTML='<li class="empty">ğŸ Wishã‚’è¿½åŠ ã—ã¦å†’é™ºã‚’å§‹ã‚ã‚ˆã†</li>';return;}
      l.innerHTML=W.map(w=>`<li class="wish-item ${w.c?'completed':''}"><div class="checkbox ${w.c?'checked':''}" onclick="toggle(${w.id})"></div><span class="wish-text">${esc(w.t)}</span><span class="wish-pts">${w.p}pt</span><button class="del-btn" onclick="del(${w.id})">Ã—</button></li>`).join('');
    }
    
    function addWish(){const inp=document.getElementById('wishIn'),t=inp.value.trim(),p=parseInt(document.getElementById('ptsIn').value)||4;if(!t)return;W.push({id:Date.now(),t,p,c:false});save();render();inp.value='';}
    function toggle(id){const w=W.find(x=>x.id===id);if(w){w.c=!w.c;save();render();}}
    function del(id){W=W.filter(w=>w.id!==id);save();render();}
    function save(){localStorage.setItem('slytherin-wishes-2026',JSON.stringify(W));}
    function esc(s){const d=document.createElement('div');d.textContent=s;return d.innerHTML;}
  </script>
</body>
</html>
